{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\n\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : 'pointer';\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolRotate = seriesScope && seriesScope.symbolRotate;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolRotate = itemModel.getShallow('symbolRotate');\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  symbolPath.hoverStyle = hoverItemStyle; // FIXME\n  // Do not use symbol.trigger('emphasis'), but use symbol.highlight() instead.\n\n  graphic.setHoverStyle(symbolPath);\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n\n  if (hoverAnimation && seriesModel.isAnimationEnabled()) {\n    // Note: consider `off`, should use static function here.\n    symbolPath.on('mouseover', onMouseOver).on('mouseout', onMouseOut).on('emphasis', onEmphasis).on('normal', onNormal);\n  }\n};\n\nfunction onMouseOver() {\n  // see comment in `graphic.isInEmphasis`\n  !graphic.isInEmphasis(this) && onEmphasis.call(this);\n}\n\nfunction onMouseOut() {\n  // see comment in `graphic.isInEmphasis`\n  !graphic.isInEmphasis(this) && onNormal.call(this);\n}\n\nfunction onEmphasis() {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  var scale = this.__symbolOriginalScale;\n  var ratio = scale[1] / scale[0];\n  this.animateTo({\n    scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n  }, 400, 'elasticOut');\n}\n\nfunction onNormal() {\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  this.animateTo({\n    scale: this.__symbolOriginalScale\n  }, 400, 'elasticOut');\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","map":{"version":3,"sources":["/Users/eduardjacobs/Desktop/files/inHouse-website/client/node_modules/echarts/lib/chart/helper/Symbol.js"],"names":["zrUtil","require","_symbol","createSymbol","graphic","_number","parsePercent","_labelHelper","getDefaultLabel","SymbolClz","data","idx","seriesScope","Group","call","updateData","symbolProto","prototype","getSymbolSize","symbolSize","getItemVisual","Array","slice","getScale","driftSymbol","dx","dy","parent","drift","_createSymbol","symbolType","keepAspect","removeAll","color","symbolPath","attr","z2","culling","scale","_symbolType","add","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","trigger","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","silent","seriesModel","hostModel","isInit","updateProps","_updateCommon","fadeIn","target","style","opacity","initProps","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","type","useStyle","strokeNoScale","itemStyle","hoverItemStyle","symbolRotate","symbolOffset","labelModel","hoverLabelModel","hoverAnimation","cursorStyle","hasItemOption","itemModel","getItemModel","getModel","getItemStyle","getShallow","extend","elStyle","Math","PI","setColor","symbolInnerColor","setStyle","liftZ","z2Origin","__z2Origin","useNameLabel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","getLabelDefaultText","isRectText","autoColor","opt","getName","off","hoverStyle","setHoverStyle","__symbolOriginalScale","isAnimationEnabled","on","onMouseOver","onMouseOut","onEmphasis","onNormal","isInEmphasis","incremental","useHoverLayer","ratio","animateTo","max","fadeOut","cb","keepLabel","text","dataIndex","inherits","_default","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : 'pointer';\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolRotate = seriesScope && seriesScope.symbolRotate;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolRotate = itemModel.getShallow('symbolRotate');\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  symbolPath.hoverStyle = hoverItemStyle; // FIXME\n  // Do not use symbol.trigger('emphasis'), but use symbol.highlight() instead.\n\n  graphic.setHoverStyle(symbolPath);\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n\n  if (hoverAnimation && seriesModel.isAnimationEnabled()) {\n    // Note: consider `off`, should use static function here.\n    symbolPath.on('mouseover', onMouseOver).on('mouseout', onMouseOut).on('emphasis', onEmphasis).on('normal', onNormal);\n  }\n};\n\nfunction onMouseOver() {\n  // see comment in `graphic.isInEmphasis`\n  !graphic.isInEmphasis(this) && onEmphasis.call(this);\n}\n\nfunction onMouseOut() {\n  // see comment in `graphic.isInEmphasis`\n  !graphic.isInEmphasis(this) && onNormal.call(this);\n}\n\nfunction onEmphasis() {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  var scale = this.__symbolOriginalScale;\n  var ratio = scale[1] / scale[0];\n  this.animateTo({\n    scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n  }, 400, 'elasticOut');\n}\n\nfunction onNormal() {\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  this.animateTo({\n    scale: this.__symbolOriginalScale\n  }, 400, 'elasticOut');\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}