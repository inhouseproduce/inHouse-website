{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = undefined;\n\nvar _debounce = require('../debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar createSensor = exports.createSensor = function createSensor(element) {\n  // 感应器\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * 统一触发 listeners\n   */\n\n  var resizeListener = (0, _debounce2.default)(function () {\n    // 依次触发执行\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * 创建 sensor 的 object DOM\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    var sensor = new ResizeObserver(resizeListener); // 监听 element\n\n    sensor.observe(element); // 直接触发一次\n\n    resizeListener();\n    return sensor;\n  };\n  /**\n   * 监听某一个 callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * 完全 destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * 取消绑定\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // 不存在 listener，并且存在 sensor object\n    // 则移除 object\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */","map":{"version":3,"sources":["/Users/eduardjacobs/Desktop/files/inHouse-website/client/node_modules/size-sensor/lib/sensors/resizeObserver.js"],"names":["Object","defineProperty","exports","value","createSensor","undefined","_debounce","require","_debounce2","_interopRequireDefault","obj","__esModule","default","element","sensor","listeners","resizeListener","forEach","listener","newSensor","ResizeObserver","observe","bind","cb","indexOf","push","destroy","disconnect","unbind","idx","splice","length"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,YAAR,GAAuBC,SAAvB;;AAEA,IAAIC,SAAS,GAAGC,OAAO,CAAC,aAAD,CAAvB;;AAEA,IAAIC,UAAU,GAAGC,sBAAsB,CAACH,SAAD,CAAvC;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,IAAIN,YAAY,GAAGF,OAAO,CAACE,YAAR,GAAuB,SAASA,YAAT,CAAsBS,OAAtB,EAA+B;AACvE;AACA,MAAIC,MAAM,GAAGT,SAAb,CAFuE,CAGvE;;AACA,MAAIU,SAAS,GAAG,EAAhB;AAEA;;;;AAGA,MAAIC,cAAc,GAAG,CAAC,GAAGR,UAAU,CAACI,OAAf,EAAwB,YAAY;AACvD;AACAG,IAAAA,SAAS,CAACE,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpCA,MAAAA,QAAQ,CAACL,OAAD,CAAR;AACD,KAFD;AAGD,GALoB,CAArB;AAOA;;;;;AAIA,MAAIM,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,QAAIL,MAAM,GAAG,IAAIM,cAAJ,CAAmBJ,cAAnB,CAAb,CADmC,CAEnC;;AACAF,IAAAA,MAAM,CAACO,OAAP,CAAeR,OAAf,EAHmC,CAKnC;;AACAG,IAAAA,cAAc;AACd,WAAOF,MAAP;AACD,GARD;AAUA;;;;;;AAIA,MAAIQ,IAAI,GAAG,SAASA,IAAT,CAAcC,EAAd,EAAkB;AAC3B,QAAI,CAACT,MAAL,EAAa;AACXA,MAAAA,MAAM,GAAGK,SAAS,EAAlB;AACD;;AAED,QAAIJ,SAAS,CAACS,OAAV,CAAkBD,EAAlB,MAA0B,CAAC,CAA/B,EAAkC;AAChCR,MAAAA,SAAS,CAACU,IAAV,CAAeF,EAAf;AACD;AACF,GARD;AAUA;;;;;AAGA,MAAIG,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/BZ,IAAAA,MAAM,CAACa,UAAP;AAEAZ,IAAAA,SAAS,GAAG,EAAZ;AACAD,IAAAA,MAAM,GAAGT,SAAT;AACD,GALD;AAOA;;;;;;AAIA,MAAIuB,MAAM,GAAG,SAASA,MAAT,CAAgBL,EAAhB,EAAoB;AAC/B,QAAIM,GAAG,GAAGd,SAAS,CAACS,OAAV,CAAkBD,EAAlB,CAAV;;AACA,QAAIM,GAAG,KAAK,CAAC,CAAb,EAAgB;AACdd,MAAAA,SAAS,CAACe,MAAV,CAAiBD,GAAjB,EAAsB,CAAtB;AACD,KAJ8B,CAM/B;AACA;;;AACA,QAAId,SAAS,CAACgB,MAAV,KAAqB,CAArB,IAA0BjB,MAA9B,EAAsC;AACpCY,MAAAA,OAAO;AACR;AACF,GAXD;;AAaA,SAAO;AACLb,IAAAA,OAAO,EAAEA,OADJ;AAELS,IAAAA,IAAI,EAAEA,IAFD;AAGLI,IAAAA,OAAO,EAAEA,OAHJ;AAILE,IAAAA,MAAM,EAAEA;AAJH,GAAP;AAMD,CA7ED;AA6EG","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = undefined;\n\nvar _debounce = require('../debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createSensor = exports.createSensor = function createSensor(element) {\n  // 感应器\n  var sensor = undefined;\n  // callback\n  var listeners = [];\n\n  /**\n   * 统一触发 listeners\n   */\n  var resizeListener = (0, _debounce2.default)(function () {\n    // 依次触发执行\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n\n  /**\n   * 创建 sensor 的 object DOM\n   * @returns {HTMLObjectElement}\n   */\n  var newSensor = function newSensor() {\n    var sensor = new ResizeObserver(resizeListener);\n    // 监听 element\n    sensor.observe(element);\n\n    // 直接触发一次\n    resizeListener();\n    return sensor;\n  };\n\n  /**\n   * 监听某一个 callback\n   * @param cb\n   */\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n\n  /**\n   * 完全 destroy\n   */\n  var destroy = function destroy() {\n    sensor.disconnect();\n\n    listeners = [];\n    sensor = undefined;\n  };\n\n  /**\n   * 取消绑定\n   * @param cb\n   */\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    }\n\n    // 不存在 listener，并且存在 sensor object\n    // 则移除 object\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n}; /**\n    * Created by hustcc on 18/7/5.\n    * Contract: i@hust.cc\n    */"]},"metadata":{},"sourceType":"script"}