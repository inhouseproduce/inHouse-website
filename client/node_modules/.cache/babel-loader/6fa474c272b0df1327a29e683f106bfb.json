{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function init() {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function getContentGroup() {\n    return this._contentGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function render(legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && legendModel.get('orient') === 'vertical' ? 'right' : 'left';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function resetInner() {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function renderInner(itemAlign, legendModel, ecModel, api) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Series legend\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, api)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Data legend of pie, funnel\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendDataProvider) {\n            var data = seriesModel.legendDataProvider();\n            var idx = data.indexOfName(name);\n\n            if (idx < 0) {\n              return;\n            }\n\n            var color = data.getItemVisual(idx, 'color');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, name, api)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n  },\n  _createItem: function _createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    itemGroup.add(createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      } // Put symbol in the center\n\n\n      itemGroup.add(createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function layoutInner(legendModel, itemAlign, maxSize) {\n    var contentGroup = this.getContentGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    contentGroup.attr('position', [-contentRect.x, -contentRect.y]);\n    return this.group.getBoundingRect();\n  },\n\n  /**\n   * @protected\n   */\n  remove: function remove() {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction dispatchSelectAction(name, api) {\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: name\n  });\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;","map":{"version":3,"sources":["/Users/eduardjacobs/Desktop/files/inHouse-website/client/node_modules/echarts/lib/component/legend/LegendView.js"],"names":["_config","require","__DEV__","echarts","zrUtil","_symbol","createSymbol","graphic","_listComponent","makeBackground","layoutUtil","curry","each","Group","_default","extendComponentView","type","newlineDisabled","init","group","add","_contentGroup","_backgroundEl","_isFirstRender","getContentGroup","render","legendModel","ecModel","api","isFirstRender","resetInner","get","itemAlign","renderInner","positionInfo","getBoxLayoutParams","viewportSize","width","getWidth","height","getHeight","padding","maxSize","getLayoutRect","mainRect","layoutInner","layoutRect","defaults","attr","x","y","removeAll","remove","contentGroup","legendDrawnMap","createHashMap","selectMode","excludeSeriesId","eachRawSeries","seriesModel","push","id","getData","itemModel","dataIndex","name","newline","getSeriesByName","data","color","getVisual","getDataParams","legendSymbolType","symbolType","itemGroup","_createItem","on","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","set","legendDataProvider","idx","indexOfName","getItemVisual","itemWidth","itemHeight","inactiveColor","symbolKeepAspect","isSelected","textStyleModel","getModel","itemIcon","tooltipModel","legendGlobalTooltipModel","parentModel","size","textX","textAlign","formatter","content","replace","Text","style","setTextStyle","text","textFill","getTextColor","textVerticalAlign","hitRect","Rect","shape","getBoundingRect","invisible","tooltip","extend","formatterParams","componentType","legendIndex","componentIndex","$vars","option","eachChild","child","silent","setHoverStyle","__legendDataIndex","box","contentRect","dispatchAction","seriesName","dataName","el","getZr","storage","getDisplayList","useHoverLayer","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && legendModel.get('orient') === 'vertical' ? 'right' : 'left';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Series legend\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, api)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Data legend of pie, funnel\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendDataProvider) {\n            var data = seriesModel.legendDataProvider();\n            var idx = data.indexOfName(name);\n\n            if (idx < 0) {\n              return;\n            }\n\n            var color = data.getItemVisual(idx, 'color');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, name, api)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    itemGroup.add(createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      } // Put symbol in the center\n\n\n      itemGroup.add(createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize) {\n    var contentGroup = this.getContentGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    contentGroup.attr('position', [-contentRect.x, -contentRect.y]);\n    return this.group.getBoundingRect();\n  },\n\n  /**\n   * @protected\n   */\n  remove: function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction dispatchSelectAction(name, api) {\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: name\n  });\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}