{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\nvar _format = require(\"../../util/format\");\n\nvar getTooltipMarker = _format.getTooltipMarker;\nvar formatTpl = _format.formatTpl;\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\nvar _default = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function getDataParams(dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    var tooltipModel = this.ecModel.getComponent('tooltip');\n    var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n    var renderMode = getTooltipRenderMode(renderModeOption);\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      marker: getTooltipMarker({\n        color: color,\n        renderMode: renderMode\n      }),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex]\n   * @param {string} [labelProp='label']\n   * @return {string} If not formatter, return null/undefined\n   */\n  getFormattedLabel: function getFormattedLabel(dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n        var len = dim.length;\n\n        if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n          dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n        }\n\n        return retrieveRawValue(data, dataIndex, dim);\n      });\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Array|number|string}\n   */\n  getRawValue: function getRawValue(idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: function formatTooltip() {// Empty function\n  }\n};\nmodule.exports = _default;","map":{"version":3,"sources":["/Users/eduardjacobs/Desktop/files/inHouse-website/client/node_modules/echarts/lib/model/mixin/dataFormat.js"],"names":["_dataProvider","require","retrieveRawValue","_format","getTooltipMarker","formatTpl","_model","getTooltipRenderMode","DIMENSION_LABEL_REG","_default","getDataParams","dataIndex","dataType","data","getData","rawValue","getRawValue","rawDataIndex","getRawIndex","name","getName","itemOpt","getRawDataItem","color","getItemVisual","tooltipModel","ecModel","getComponent","renderModeOption","get","renderMode","mainType","isSeries","componentType","componentSubType","subType","componentIndex","seriesType","seriesIndex","seriesId","id","seriesName","value","marker","$vars","getFormattedLabel","status","dimIndex","labelProp","itemModel","getItemModel","params","Array","formatter","str","replace","origin","dim","len","length","charAt","slice","idx","formatTooltip","module","exports"],"mappings":"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","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\nvar _format = require(\"../../util/format\");\n\nvar getTooltipMarker = _format.getTooltipMarker;\nvar formatTpl = _format.formatTpl;\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\nvar _default = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    var tooltipModel = this.ecModel.getComponent('tooltip');\n    var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n    var renderMode = getTooltipRenderMode(renderModeOption);\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      marker: getTooltipMarker({\n        color: color,\n        renderMode: renderMode\n      }),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex]\n   * @param {string} [labelProp='label']\n   * @return {string} If not formatter, return null/undefined\n   */\n  getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n        var len = dim.length;\n\n        if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n          dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n        }\n\n        return retrieveRawValue(data, dataIndex, dim);\n      });\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Array|number|string}\n   */\n  getRawValue: function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: function () {// Empty function\n  }\n};\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}